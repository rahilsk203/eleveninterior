import{r as h,j as e}from"./index-5ZHCKOtV.js";import{F as y,f as N,d as q,c as S,b as E,g as P}from"./index-BwtZ1T91.js";import{A as I}from"./AnimatedTitle-DZ8s0MMC.js";import{g as f,N as b,F as w,S as C}from"./SEO-BJsma18A.js";import{S as L,u as v}from"./ScrollTrigger-By_mcrGY.js";class T{constructor(){this.API_BASE="https://eleven-interior-api.eleveninteriorworld.workers.dev",this.requestQueue=[],this.isProcessing=!1,this.maxRetries=3,this.retryDelay=1e3,this.validationCache=new Map,this.validationCacheTimeout=60*1e3}async retry(t,r=this.maxRetries){try{return await t()}catch(i){if(r>0){const m=this.retryDelay*Math.pow(2,this.maxRetries-r);return await new Promise(s=>setTimeout(s,m)),this.retry(t,r-1)}throw i}}getCachedValidation(t){const r=this.validationCache.get(t);return r&&Date.now()-r.timestamp<this.validationCacheTimeout?r.result:(this.validationCache.delete(t),null)}setCachedValidation(t,r){this.validationCache.set(t,{result:r,timestamp:Date.now()})}isValidEmail(t){const r=`email_${t}`,i=this.getCachedValidation(r);if(i!==null)return i;const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);return this.setCachedValidation(r,s),s}async queueSubmission(t){return new Promise((r,i)=>{this.requestQueue.push({data:t,resolve:r,reject:i}),this.isProcessing||this.processQueue()})}async processQueue(){for(this.isProcessing=!0;this.requestQueue.length>0;){const t=this.requestQueue.shift();try{const r=await this.submitInquiry(t.data);t.resolve(r)}catch(r){t.reject(r)}await new Promise(r=>setTimeout(r,100))}this.isProcessing=!1}async submitInquiry(t){var r;try{const i=[{field:"name",value:t.name,minLen:2},{field:"email",value:t.email,validator:this.isValidEmail.bind(this)},{field:"phone",value:t.phone,minLen:10},{field:"location",value:t.location,minLen:2},{field:"project_description",value:t.project_description,minLen:10}];for(const{field:s,value:n,minLen:c,validator:u}of i){if(!n)throw new Error(`${s.replace("_"," ")} is required`);if(c&&n.length<c)throw new Error(`${s.replace("_"," ")} must be at least ${c} characters`);if(u&&!u(n))throw new Error(`Valid ${s.replace("_"," ")} is required`)}const m=await this.retry(async()=>{var n;const s=await fetch(`${this.API_BASE}/api/inquiries`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name.toLowerCase().trim(),email:t.email.toLowerCase().trim(),phone:t.phone.trim(),location:t.location.trim(),project_description:t.project_description.trim()})});if(!s.ok){const c=await s.json().catch(()=>({})),u=((n=c.error)==null?void 0:n.message)||c.message||`Failed to submit inquiry: ${s.status} ${s.statusText}`;throw new Error(u)}return await s.json()});if(!m.success)throw new Error(((r=m.error)==null?void 0:r.message)||"Failed to submit inquiry");return console.log("Inquiry submitted successfully:",m.data),m.data}catch(i){throw console.error("Error submitting inquiry:",i),i}}async submitInquiriesBatch(t){const r=[],i=[],s=[];for(let n=0;n<t.length;n+=3)s.push(t.slice(n,n+3));for(const n of s){const c=n.map(d=>this.submitInquiry(d).catch(a=>(i.push({inquiry:d,error:a}),null))),u=await Promise.all(c);r.push(...u.filter(d=>d!==null))}return{results:r,errors:i}}}const _=new T;f.registerPlugin(L,v);const k=({formRef:o,handleSubmit:t,formData:r,setFormData:i,isSubmitting:m})=>{const[s,n]=h.useState(!1),[c,u]=h.useState(!1),d=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser.");return}u(!0),navigator.geolocation.getCurrentPosition(a=>{const{latitude:l,longitude:g}=a.coords;fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${l}&longitude=${g}&localityLanguage=en`).then(x=>x.json()).then(x=>{const p=`${x.city||""}, ${x.principalSubdivision||""}, ${x.countryName||""}`.replace(/^,\s*|,\s*$/g,"");i(j=>({...j,location:p})),n(!0),u(!1)}).catch(x=>{console.error("Error getting address:",x),i(p=>({...p,location:`${l}, ${g}`})),u(!1)})},a=>{console.error("Error getting location:",a),alert("Unable to get your location. Please enter it manually."),u(!1)})};return e.jsxs("form",{ref:o,onSubmit:t,className:"w-full max-w-2xl bg-black/90 backdrop-blur-md p-4 sm:p-6 rounded-2xl shadow-2xl border border-white/20 hover:shadow-3xl transition-all duration-300",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4 text-center",children:"Project Inquiry Form"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"name",className:"block text-left text-white font-medium mb-1",children:[e.jsx(N,{className:"inline w-4 h-4 mr-2"}),"Full Name *"]}),e.jsx("input",{type:"text",id:"name",placeholder:"Enter your full name",value:r.name,onChange:a=>i(l=>({...l,name:a.target.value})),className:"w-full px-3 py-2 rounded-lg border border-white/30 bg-white/10 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all placeholder-gray-400 text-white hover:bg-white/15",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"email",className:"block text-left text-white font-medium mb-1",children:[e.jsx(q,{className:"inline w-4 h-4 mr-2"}),"Email Address *"]}),e.jsx("input",{type:"email",id:"email",placeholder:"Enter your email address",value:r.email,onChange:a=>i(l=>({...l,email:a.target.value})),className:"w-full px-3 py-2 rounded-lg border border-white/30 bg-white/10 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all placeholder-gray-400 text-white hover:bg-white/15",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"phone",className:"block text-left text-white font-medium mb-1",children:[e.jsx(S,{className:"inline w-4 h-4 mr-2"}),"Phone Number *"]}),e.jsx("input",{type:"tel",id:"phone",placeholder:"Enter your phone number",value:r.phone,onChange:a=>i(l=>({...l,phone:a.target.value})),className:"w-full px-3 py-2 rounded-lg border border-white/30 bg-white/10 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all placeholder-gray-400 text-white hover:bg-white/15",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"location",className:"block text-left text-white font-medium mb-1",children:[e.jsx(E,{className:"inline w-4 h-4 mr-2"}),"Location *"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",id:"location",placeholder:"Enter your location or use current location",value:r.location,onChange:a=>i(l=>({...l,location:a.target.value})),className:"flex-1 px-3 py-2 rounded-lg border border-white/30 bg-white/10 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all placeholder-gray-400 text-white hover:bg-white/15",required:!0}),e.jsxs("button",{type:"button",onClick:d,disabled:c,className:"px-3 py-2 bg-violet-600 hover:bg-violet-700 disabled:bg-gray-600 text-white rounded-lg transition-all duration-300 flex items-center gap-1 min-w-fit",children:[c?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"three-body",children:[e.jsx("div",{className:"three-body__dot"}),e.jsx("div",{className:"three-body__dot"}),e.jsx("div",{className:"three-body__dot"})]})}):e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline text-sm",children:c?"Getting...":"Current"})]})]}),s&&e.jsxs("p",{className:"text-green-400 text-xs mt-1 flex items-center",children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Location detected successfully"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"message",className:"block text-left text-white font-medium mb-1",children:"Project Description"}),e.jsx("textarea",{id:"message",placeholder:"Tell us about your project, requirements, and vision...",value:r.message,onChange:a=>i(l=>({...l,message:a.target.value})),className:"w-full px-3 py-2 rounded-lg border border-white/30 bg-white/10 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all placeholder-gray-400 text-white hover:bg-white/15 resize-none",rows:"3"})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full px-4 py-2 bg-gradient-to-r from-violet-600 to-violet-800 text-white rounded-lg hover:from-violet-700 hover:to-violet-900 disabled:from-gray-600 disabled:to-gray-700 transition-all font-semibold text-base shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-transform duration-300 flex items-center justify-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"three-body",children:[e.jsx("div",{className:"three-body__dot"}),e.jsx("div",{className:"three-body__dot"}),e.jsx("div",{className:"three-body__dot"})]}),"Submitting..."]}):"Submit Inquiry"})]})};function B(){const[o,t]=h.useState({name:"",email:"",phone:"",location:"",message:""}),[r,i]=h.useState(!1),[m,s]=h.useState(!1),n=h.useRef(null),c=h.useRef(null);h.useEffect(()=>(window.scrollTo(0,0),document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior="auto"}),[]),v(()=>{f.fromTo(c.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,scrollTrigger:{trigger:c.current,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse",markers:!1},willChange:"transform, opacity"}),f.fromTo(n.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,scrollTrigger:{trigger:n.current,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse",markers:!1},willChange:"transform, opacity"})},[]);const u=async a=>{a.preventDefault(),i(!0);try{if(!o.name||o.name.length<2)throw new Error("Name is required and must be at least 2 characters");if(!o.email||!/\S+@\S+\.\S+/.test(o.email))throw new Error("Valid email is required");if(!o.phone||o.phone.length<10)throw new Error("Phone number is required and must be at least 10 characters");if(!o.location||o.location.length<2)throw new Error("Location is required and must be at least 2 characters");if(!o.message||o.message.length<10)throw new Error("Project description must be at least 10 characters long");const l={name:o.name,email:o.email,phone:o.phone,location:o.location,project_description:o.message},g=await _.submitInquiry(l);s(!0),setTimeout(()=>{t({name:"",email:"",phone:"",location:"",message:""}),s(!1)},3e3)}catch(l){console.error("Error submitting form:",l),alert(`There was an error submitting your inquiry: ${l.message}. Please try again.`)}finally{i(!1)}},d={"@context":"https://schema.org","@type":"WebPage",name:"Project Inquiry - Eleven Interior World",description:"Submit your project inquiry to Eleven Interior World for premium interior design services for residential and commercial spaces",url:typeof window<"u"?window.location.href:"",breadcrumb:{"@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:typeof window<"u"?window.location.origin:""},{"@type":"ListItem",position:2,name:"Inquiry",item:typeof window<"u"?window.location.href:""}]}};return m?e.jsxs("div",{className:"min-h-screen w-screen overflow-x-hidden bg-violet-100",children:[e.jsx(b,{}),e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 pt-20",children:e.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(y,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl font-bold text-black mb-4",children:"Thank You!"}),e.jsx("p",{className:"text-gray-700 text-lg mb-6",children:"Your inquiry has been submitted successfully. Our team will review your project details and get back to you within 24 hours."}),e.jsx("button",{onClick:()=>s(!1),className:"bg-gradient-to-r from-violet-600 to-violet-800 text-white px-8 py-3 rounded-lg hover:from-violet-700 hover:to-violet-900 transition-all font-semibold",children:"Submit Another Inquiry"})]})}),e.jsx(w,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Project Inquiry - Eleven Interior World",description:"Submit your project inquiry to Eleven Interior World for premium interior design services for residential and commercial spaces",keywords:"interior design inquiry, luxury design project, residential design inquiry, commercial design inquiry, project consultation",ogTitle:"Project Inquiry - Eleven Interior World",ogDescription:"Submit your project inquiry for premium interior design services",ogImage:"/img/og-inquiry.jpg",ogUrl:"/inquiry",canonical:"/inquiry",structuredData:d}),e.jsxs("div",{className:"min-h-screen w-screen overflow-x-hidden bg-violet-100 pt-20",children:[e.jsx(b,{}),e.jsxs("div",{className:"min-h-screen flex flex-col items-center text-center px-4 sm:px-6 pt-16 pb-8",children:[e.jsxs("div",{className:"relative mb-8 mt-8 flex flex-col items-center gap-4 max-w-4xl mx-auto",children:[e.jsx("p",{className:"font-general text-xs uppercase text-gray-500 tracking-wider",children:"Start Your Project"}),e.jsx("div",{ref:c,className:"text-center",children:e.jsx(I,{title:"PROJECT <b>INQUIRY</b>",containerClass:"font-extrabold text-4xl sm:text-5xl md:text-6xl px-5 !text-black"})}),e.jsx("h2",{className:"font-bold text-xl sm:text-2xl md:text-3xl text-black leading-tight",children:"Let's Create Something Amazing Together!"}),e.jsx("p",{className:"text-gray-700 mt-2 text-sm sm:text-base max-w-2xl leading-relaxed",children:"Tell us about your vision and we'll help bring it to life."})]}),e.jsx("div",{className:"flex flex-col items-center justify-center w-full max-w-2xl mx-auto",children:e.jsx(k,{formRef:n,handleSubmit:u,formData:o,setFormData:t,isSubmitting:r})})]}),e.jsx(w,{})]})]})}export{B as default};
